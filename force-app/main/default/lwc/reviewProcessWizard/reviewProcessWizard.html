<template>
    <div class="slds-box slds-theme_default slds-grid slds-wrap">
        <lightning-spinner lwc:if={isLoading} alternative-text="Loading" size="medium"></lightning-spinner>

        <div class="slds-col slds-size_12-of-12">
            <lightning-progress-indicator type="base" variant="base" current-step={currentStep} has-error={isStepError}>
                <template for:each={reviewSteps} for:item="step">
                    <lightning-progress-step 
                        key={step.key} 
                        label={step.label} 
                        value={step.value}
                        class="clickable-step"
                        onclick={handleStepClick}>
                    </lightning-progress-step>
                </template>
            </lightning-progress-indicator>
        </div>
        <div class="slds-col slds-size_12-of-12 slds-m-top_large progress-step-container">
            <lwc:component record={recordId} lwc:is={processComponentConstructor}></lwc:component>
        </div>
    </div>
</template>